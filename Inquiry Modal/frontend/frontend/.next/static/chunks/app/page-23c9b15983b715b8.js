(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),l=s(6766),a=s(2115),o=s(5695),n=s(6572);fetch("".concat(n.A,"/api/inquiries"));let i=["/image2.jpg","/image4.jpg","/image6.jpg"];function d(){let[e,t]=(0,a.useState)(0),[s,d]=(0,a.useState)("login"),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[b,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),w=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%i.length)},3e3);return()=>clearInterval(e)},[]);let j=async e=>{e.preventDefault();try{let e=await fetch("".concat(n.A,"/auth/send-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to send OTP")}d("otp")}catch(e){e instanceof Error?alert(e.message):alert("An unknown error occurred")}},v=async e=>{e.preventDefault();try{let e=await fetch("".concat(n.A,"/auth/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:b})}),t=await e.json();if(!e.ok)throw Error(t.detail||"Invalid OTP");y(t.reset_token),d("reset")}catch(e){alert("Invalid or expired OTP"),console.error(e)}},N=async e=>{if(e.preventDefault(),m!==f)return void alert("Passwords do not match!");try{let e=await fetch("".concat(n.A,"/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,new_password:m})});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to reset password")}alert("Password reset successful!"),d("login"),u(""),h(""),x(""),p("")}catch(e){alert("Reset failed"),console.error(e)}},k=async e=>{e.preventDefault();try{let e=await fetch("".concat(n.A,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:m})});if(!e.ok)throw Error("Invalid email or password");let t=await e.json();localStorage.setItem("token",t.access_token),localStorage.setItem("role",t.role),localStorage.setItem("userName",t.userName),localStorage.setItem("userId",t.userId),w.push("/dashboard")}catch(e){console.error(e),e instanceof Error?alert(e.message):alert("An unknown error occurred")}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#E5E7EB] px-2",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl flex flex-col-reverse md:flex-row w-full max-w-4xl md:max-w-6xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center h-auto min-h-[400px] md:h-[600px] px-6 md:px-10 py-8 md:py-12 max-w-md mx-auto",children:["login"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl text-center font-bold mb-6",children:"Sign In"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:k,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:c,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Enter your email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",value:m,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Enter your password"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm mb-4 gap-2",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",className:"mr-2"}),"Remember me"]}),(0,r.jsx)("button",{type:"button",className:"text-blue-600 hover:underline text-right",onClick:()=>d("forgot"),children:"Forgot Password?"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded font-semibold hover:bg-gray-800 transition",children:"Sign In"})]})]}),"forgot"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl text-center font-bold mb-6",children:"Forgot Password"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:j,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Enter your email"}),(0,r.jsx)("input",{type:"email",value:c,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Enter your email",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded font-semibold hover:bg-gray-800 transition",children:"Send OTP"}),(0,r.jsx)("button",{type:"button",className:"w-full text-gray-600 py-2 rounded font-semibold hover:underline",onClick:()=>d("login"),children:"Back to Sign In"})]})]}),"otp"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl text-center font-bold mb-6",children:"Enter OTP"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:v,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["OTP sent to ",c]}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Enter OTP",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded font-semibold hover:bg-gray-800 transition",children:"Verify OTP"}),(0,r.jsx)("button",{type:"button",className:"w-full text-gray-600 py-2 rounded font-semibold hover:underline",onClick:()=>d("forgot"),children:"Back"})]})]}),"reset"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl text-center font-bold mb-6",children:"Reset Password"}),(0,r.jsxs)("form",{className:"space-y-5",onSubmit:N,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"New Password"}),(0,r.jsx)("input",{type:"password",value:m,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Enter new password",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",value:f,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-blue-50",placeholder:"Confirm new password",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded font-semibold hover:bg-gray-800 transition",children:"Reset Password"})]})]})]}),(0,r.jsxs)("div",{className:"relative w-full md:w-1/2 h-64 min-h-[450px] md:h-auto flex flex-col justify-end items-start bg-black",children:[(0,r.jsx)(l.default,{src:i[e],alt:"Profile",fill:!0,className:"object-cover opacity-90 transition-all duration-700",priority:!0,sizes:"(max-width: 768px) 100vw, 50vw"}),(0,r.jsxs)("div",{className:"absolute bottom-10 left-10 text-white z-10",children:[(0,r.jsx)("div",{className:"text-3xl font-bold mb-2"}),(0,r.jsx)("div",{className:"text-xl font-semibold"})]})]})]})})}},5809:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))},6572:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r="https://excellentorders.in"}},e=>{var t=t=>e(e.s=t);e.O(0,[212,441,684,358],()=>t(5809)),_N_E=e.O()}]);