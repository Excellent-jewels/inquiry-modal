exports.id=302,exports.ids=[302],exports.modules={200:(e,t,s)=>{"use strict";s.d(t,{NotificationProvider:()=>i});var r=s(2907);let i=(0,r.registerClientReference)(function(){throw Error("Attempted to call NotificationProvider() from the server but NotificationProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shiv krupa\\Downloads\\Inquiry Modal\\frontend\\context\\NotificationContext.tsx","NotificationProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useNotification() from the server but useNotification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shiv krupa\\Downloads\\Inquiry Modal\\frontend\\context\\NotificationContext.tsx","useNotification")},1866:(e,t,s)=>{Promise.resolve().then(s.bind(s,3249))},2164:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r="https://excellentorders.in"},2704:()=>{},3249:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\shiv krupa\\\\Downloads\\\\Inquiry Modal\\\\frontend\\\\app\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shiv krupa\\Downloads\\Inquiry Modal\\frontend\\app\\dashboard\\layout.tsx","default")},3310:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(687),i=s(3210),o=s(5814),n=s.n(o),a=s(6189),l=s(6378);let d=[{label:"Dashboard",href:"/dashboard"},{label:"Inquiry",href:"/dashboard/inquiries"},{label:"Not Available",href:"/dashboard/inquiries/not-available"},{label:"Released",href:"/dashboard/inquiries/release"},{label:"Hold",href:"/dashboard/inquiries/hold"},{label:"Confirmed",href:"/dashboard/inquiries/confirm"},{label:"Dispatched",href:"/dashboard/inquiries/dispatch"},{label:"Other Leads",href:"/dashboard/inquiries/other"},{label:"Vendor",href:"/dashboard/inquiries/vendor",roles:["admin","backend","account"]}];function c(){let e=(0,a.usePathname)(),t=(0,a.useRouter)(),[s,o]=(0,i.useState)(!1),[c,h]=(0,i.useState)("User"),[f,u]=(0,i.useState)(null),m=(0,i.useRef)(null),{notifications:x,dismissNotification:b}=(0,l.h)(e=>e),p=d.filter(e=>"account"===f?["Dispatched","Vendor"].includes(e.label):!e.roles||e.roles.includes(f||""));return(0,r.jsxs)("nav",{className:"h-full flex flex-col py-8 px-4 space-y-2 justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-8 text-2xl font-bold text-gray-800 text-center",children:"Menu"}),p.map(t=>{let s=e===t.href;return(0,r.jsx)(n(),{href:t.href,className:`block px-4 py-2 rounded transition
                ${s?"bg-blue-600 text-white font-semibold":"text-gray-700 hover:bg-blue-100"}`,children:t.label},t.href)})]}),x.length>0&&(0,r.jsxs)("div",{className:"bg-white p-3 rounded shadow mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"\uD83D\uDD14 Notifications"}),(0,r.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:x.map(e=>(0,r.jsxs)("div",{className:"relative border-l-4 border-blue-500 pl-3 pr-6 py-2 text-sm text-gray-800 bg-blue-50 rounded",children:[(0,r.jsx)("p",{children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.timestamp}),(0,r.jsx)("button",{onClick:()=>b(e.id),className:"absolute right-1 top-1 text-gray-500 hover:text-red-600 text-xs",title:"Close",children:"❌"})]},e.id))})]}),(0,r.jsxs)("div",{className:"relative mt-8",ref:m,children:[(0,r.jsxs)("button",{className:"flex items-center gap-2 w-full px-4 py-2 rounded hover:bg-gray-100 transition",onClick:()=>o(e=>!e),children:[(0,r.jsx)("span",{className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 text-xl shadow",children:(0,r.jsx)("img",{src:"/logo.png",alt:"User Logo",className:"w-8 h-8 rounded-full object-cover"})}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:c})]}),s&&(0,r.jsxs)("div",{className:"absolute right-0 bottom-14 w-64 bg-gray-600 rounded-t shadow-lg z-20",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center py-6",children:[(0,r.jsx)("span",{className:"w-20 h-20 rounded-full bg-white flex items-center justify-center shadow mb-2",children:(0,r.jsx)("img",{src:"/logo.png",alt:"User Logo",className:"w-16 h-16 rounded-full object-cover"})}),(0,r.jsx)("span",{className:"text-white font-semibold text-lg",children:c})]}),(0,r.jsxs)("div",{className:"flex border-t bg-white",children:[(0,r.jsxs)(n(),{href:"/dashboard/profile",className:"flex-1 flex items-center justify-center gap-2 py-3 border-r hover:bg-gray-100 transition",onClick:()=>o(!1),children:[(0,r.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"}),(0,r.jsx)("path",{d:"M4 20c0-2.21 3.58-4 8-4s8 1.79 8 4"})]}),(0,r.jsx)("span",{children:"Profile"})]}),(0,r.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 py-3 hover:bg-gray-100 transition",onClick:()=>{o(!1),t.push("/")},children:[(0,r.jsxs)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M17 16l4-4m0 0l-4-4m4 4H7"}),(0,r.jsx)("path",{d:"M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})]}),(0,r.jsx)("span",{children:"Sign out"})]})]})]})]})]})}var h=s(2941);function f({children:e}){let[t,s]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,r.jsx)("div",{className:"md:hidden flex items-center justify-between p-4 bg-white shadow",children:(0,r.jsx)("button",{onClick:()=>s(!0),children:(0,r.jsx)(h.A,{className:"w-6 h-6 text-gray-700"})})}),(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsx)("aside",{className:"w-64 bg-white shadow-md flex-shrink-0 hidden md:block",children:(0,r.jsx)(c,{})}),t&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[(0,r.jsx)("div",{className:"w-64 bg-white shadow-md z-50",children:(0,r.jsx)(c,{})}),(0,r.jsx)("div",{className:"flex-1 bg-black/30",onClick:()=>s(!1)})]}),(0,r.jsx)("main",{className:"flex-1 overflow-x-auto overflow-y-auto p-2 md:p-8",children:(0,r.jsx)("div",{className:"w-full",children:e})})]})]})}},5783:(e,t,s)=>{Promise.resolve().then(s.bind(s,6378))},6055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(1658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6146:(e,t,s)=>{Promise.resolve().then(s.bind(s,3310))},6378:(e,t,s)=>{"use strict";s.d(t,{NotificationProvider:()=>a,h:()=>l});var r=s(687),i=s(3210),o=s(2164);let n=(0,i.createContext)(void 0),a=({children:e})=>{let[t,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[d,c]=(0,i.useState)(null),h=`${o.A}`;(0,i.useEffect)(()=>{},[]);let f=async()=>{if(a)try{let e=await fetch(`${h}/notifications/visible-to/${a}`);if(!e.ok)throw Error("Fetch failed");let t=await e.json();t.filter(e=>"add"===e.type),s(t)}catch(e){console.error("Failed to fetch notifications:",e)}},u=async(e,t)=>{if(d)try{await fetch(`${h}/notifications/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({message:e,visible_to:t})}),f()}catch(e){console.error("Failed to add notification:",e)}},m=async e=>{if(a&&d)try{await fetch(`${h}/notifications/${e}/dismiss?user_key=${a}`,{method:"POST",headers:{Authorization:`Bearer ${d}`}}),s(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to dismiss notification:",e)}};return(0,i.useEffect)(()=>{a?(console.log("\uD83D\uDD0D userKey for notifications:",a),f()):console.warn("⚠️ No userKey set — skipping fetchNotifications()")},[a]),(0,r.jsx)(n.Provider,{value:{notifications:t,fetchNotifications:f,addNotification:u,dismissNotification:m},children:e})},l=e=>{let t=(0,i.useContext)(n);if(!t)throw Error("useNotification must be used within NotificationProvider");return t}},6637:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(7413),i=s(260),o=s.n(i),n=s(3298),a=s.n(n);s(2704);var l=s(200);let d={title:"Create Next App",description:"Generated by create next app"};function c({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${o().variable} ${a().variable} antialiased`,children:(0,r.jsx)(l.NotificationProvider,{children:e})})})}},8077:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},8831:(e,t,s)=>{Promise.resolve().then(s.bind(s,200))}};